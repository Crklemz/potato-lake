// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model HomePage {
  id                    Int              @id @default(autoincrement())
  heroTitle             String
  heroSubtitle          String?
  heroImageUrl          String?
  introHeading          String
  introText             String
  subHeading            String?
  carouselImages        HomePageImage[]
  alertBanner           String?
  alertBannerActive     Boolean          @default(false)
  latestNewsHeading     String?
  upcomingEventsHeading String?
  membershipHeading     String?
  membershipText        String?
  membershipButtonText  String?
  communityHeading      String?
  communityText         String?
  updatedAt             DateTime         @updatedAt
}

model HomePageImage {
  id        Int      @id @default(autoincrement())
  homePageId Int
  url       String
  altText   String?
  caption   String?
  order     Int      @default(0)
  homePage  HomePage @relation(fields: [homePageId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
}

model ResortsPage {
  id             Int      @id @default(autoincrement())
  sectionHeading String
  sectionText    String
  resorts        Resort[]
  updatedAt      DateTime @updatedAt
}

model Resort {
  id            Int         @id @default(autoincrement())
  resortsPageId Int
  name          String
  address       String
  phone         String
  imageUrl      String?
  description   String?
  websiteUrl    String?
  resortsPage   ResortsPage @relation(fields: [resortsPageId], references: [id])
}

model FishingPage {
  id          Int      @id @default(autoincrement())
  fishHeading String
  fishText    String
  imageUrl    String?
  updatedAt   DateTime @updatedAt
}

model DnrPage {
  id        Int      @id @default(autoincrement())
  dnrHeading String
  dnrText   String
  mapUrl    String?
  updatedAt DateTime @updatedAt
}

model NewsPage {
  id          Int     @id @default(autoincrement())
  mainHeading String
  events      Event[]
  updatedAt   DateTime @updatedAt
}

model Event {
  id          Int      @id @default(autoincrement())
  newsPageId  Int
  title       String
  date        DateTime
  description String
  imageUrl    String?
  newsPage    NewsPage @relation(fields: [newsPageId], references: [id])
}

model AreaServicesPage {
  id          Int       @id @default(autoincrement())
  heading     String
  description String
  sponsors    Sponsor[]
  updatedAt   DateTime  @updatedAt
}

model Sponsor {
  id                  Int                @id @default(autoincrement())
  areaServicesPageId  Int
  name                String
  logoUrl             String?
  link                String?
  areaServicesPage    AreaServicesPage   @relation(fields: [areaServicesPageId], references: [id])
}

model AssociationPage {
  id           Int      @id @default(autoincrement())
  heading      String
  description  String
  meetingNotes String?
  contactEmail String?
  updatedAt    DateTime @updatedAt
}

model Image {
  id        Int      @id @default(autoincrement())
  url       String
  altText   String?
  caption   String?
  pageType  String
  pageId    Int
  createdAt DateTime @default(now())
}

model SeoMeta {
  id          Int      @id @default(autoincrement())
  page        String
  title       String
  description String
  keywords    String?
  updatedAt   DateTime @updatedAt
}

model MembershipTier {
  id            Int      @id @default(autoincrement())
  name          String
  price         Float
  isLifetime    Boolean
  benefits      String
  showInListing Boolean
  updatedAt     DateTime @updatedAt
}

model Resource {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  fileUrl     String
  category    String?
  updatedAt   DateTime @updatedAt
}

model Member {
  id           Int      @id @default(autoincrement())
  name         String
  tier         String
  isHighlighted Boolean
  updatedAt    DateTime @updatedAt
}
